bind-dynamic
interface=k8s-bridge

# ------------------
# dhcp configuration
# ------------------
dhcp-range=10.240.0.2,10.240.0.252,12h    # dhcp range
dhcp-option=1,255.255.255.0               # netmask
dhcp-option=3,10.240.0.1                  # default route
dhcp-option=6,10.240.0.1                  # nameserver
dhcp-option=15,k8s.lan                    # domain-name
dhcp-option=119,k8s.lan                   # domain-search
dhcp-option=42,134.214.100.6              # ntp server

local=/lan/
domain=k8s.lan

# ------------
# dhcp fix ips
# ------------
# etcd
dhcp-host=00:12:41:77:f9:10,10.240.0.10
dhcp-host=00:12:41:77:f9:11,10.240.0.11
dhcp-host=00:12:41:77:f9:12,10.240.0.12
# masters
dhcp-host=00:12:41:77:f9:20,10.240.0.20
dhcp-host=00:12:41:77:f9:21,10.240.0.21
dhcp-host=00:12:41:77:f9:22,10.240.0.22
# workers
dhcp-host=00:12:41:77:f9:30,10.240.0.30
dhcp-host=00:12:41:77:f9:31,10.240.0.31
dhcp-host=00:12:41:77:f9:32,10.240.0.32
# proxy
dhcp-host=00:12:41:77:f9:40,10.240.0.40
dhcp-host=00:12:41:77:f9:41,10.240.0.41
dhcp-host=00:12:41:77:f9:42,10.240.0.42

# ------------
# dns override
# ------------

# virtual ip for api_server
address=/apiserver.k8s.lan/10.240.0.254
address=/proxy.k8s.lan/10.240.0.253
# kubernetes proxy
address=/dashboard.k8s.lan/10.240.0.253
address=/nginx.k8s.lan/10.240.0.253
address=/apache.k8s.lan/10.240.0.253
address=/tomcat.k8s.lan/10.240.0.253
address=/web.k8s.lan/10.240.0.253

# etcd
address=/etcd0.k8s.lan/10.240.0.10
ptr-record=10.0.240.10.in-addr.arpa,"etcd0.k8s.lan"
address=/etcd1.k8s.lan/10.240.0.11
ptr-record=11.0.240.10.in-addr.arpa,"etcd1.k8s.lan"
address=/etcd2.k8s.lan/10.240.0.12
ptr-record=12.0.240.10.in-addr.arpa,"etcd2.k8s.lan"
# masters
address=/master0.k8s.lan/10.240.0.20
ptr-record=20.0.240.10.in-addr.arpa,"master0.k8s.lan"
address=/master1.k8s.lan/10.240.0.21
ptr-record=21.0.240.10.in-addr.arpa,"master1.k8s.lan"
address=/master2.k8s.lan/10.240.0.22
ptr-record=22.0.240.10.in-addr.arpa,"master2.k8s.lan"
# workers
address=/worker0.k8s.lan/10.240.0.30
ptr-record=30.0.240.10.in-addr.arpa,"worker0.k8s.lan"
address=/worker1.k8s.lan/10.240.0.31
ptr-record=31.0.240.10.in-addr.arpa,"worker1.k8s.lan"
address=/worker2.k8s.lan/10.240.0.32
ptr-record=32.0.240.10.in-addr.arpa,"worker2.k8s.lan"
# proxy
address=/proxy0.k8s.lan/10.240.0.40
ptr-record=40.0.240.10.in-addr.arpa,"proxy0.k8s.lan"
address=/proxy1.k8s.lan/10.240.0.41
ptr-record=41.0.240.10.in-addr.arpa,"proxy1.k8s.lan"
address=/proxy2.k8s.lan/10.240.0.42
ptr-record=42.0.240.10.in-addr.arpa,"proxy2.k8s.lan"

# --------------------
# client zones forward
# --------------------
server=/k8s.lan/10.240.0.1
server=/#/10.5.0.253
